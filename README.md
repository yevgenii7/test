<h3>Использовался Yii 2 Basic</h3>

### Развёртывание
- клонировать репозиторий и установить зависимости с помощь composer:
git clone https://github.com/yevgenii7/test.git
composer instal
- прописать настройки соединения с бд и выполнить миграции
php yii migrate
- выполнить миграции необходимые для rbac
php yii migrate --migrationPath=@yii/rbac/migrations
- запустить скрипт для создания ролей (admin,manager,buyer) и привелегий (createOrder,viewOrder,changeOrderStatus,deleteOrder)
php yii rbac/init

Для проверки авторизации:
- нужно создать трёх пользователей с разными ролями (на странице Users)
пользователь с ролью admin - будет иметь все права и привелегии над заказами
пользователь с ролью manager - будет иметь право просматривать и изменять статус заказа
пользователь с ролью buyer - будет иметь право создавать и удалять заказы
(Если manager кликнет по кнопке удаления или создания заказа, то он просто будет редиректиться на страницу заказов)
- Далее можно создать несколько заказов и проверить авторизацию для различных видов пользователей.
- Также, на страницу /admin смогут зайти только залогинившиеся пользователи

Вход:
Изначально в базовом шаблоне yii2 уже была модель User со своими полями и вход был выполнен без использования данных из таблицу user в бд.
Переделал, чтобы пользователи проверялись в бд, но проверяется только имя (не стал заморачиваться с настройкой регистрации и входа). Т.е. 
чтобы войти, достаточно правильно прописать имя пользователя, которые были созданны на предыдущем этапе.

Проверка REST API с ЧПУ и интеграцией:
- сделал стандартно, как описано в документации
Если пройти по /api/orders, то отдаётся xml списка заказов или в виде json в консоли 
 curl -i -H "Accept:application/json" "http://test/api/orders"

Синхронизация с внешним сервисом (список товаров https://dummyjson.com/products):
- настроил получение товаров, с помощью консольной команды
 php yii dummy-resource/index
Её можно запускать через определённые промежутки времени по крону. Сейчас сделано так, что сначала таблица product в бд полностью очищается, 
потом заполняется новыми данными. Если бы у каждого товара был допустим артикул, то можно было бы сравнивать каждый прищедший товар и обновлять 
точечно каждый товар.

Блок "Сервис с DI и типизацией:"
- "Реализовать интерфейс для сервиса и внедрение через DI-контейнер" - в принципе реализовал, хотя из-за версии php на локальном 
сервере (7.4) - не так, как хотелось бы. Использую xampp - там проблематично быстро переключиться на другую версию.
- "Покрыть сервис unit-тестами (PHPUnit)" - создал тест для JsonDataParser сервиса (его метода), но к сожалению сам JsonDataParser изнутри тестового 
класса не находится (отдаётся ошибка).

Блок "Роутинг и контроллеры:" - реализовал



### Задание 
CRUD с фильтрами и авторизацией:
- Создать CRUD для сущностей "Товары", "Заказы", "Пользователь" (MySQL, ActiveRecord);
- Реализовать фильтр поведения (RBAC) для ограничения доступа к редактированию (3 роли, администратор (Все права), 
менеджер(Только просмотр и изменение статуса заказа), покупатель (создать заказ));
- Добавить валидации и пред/пост-обработку данных (например, автоформатирование цены).
- 
REST API с ЧПУ и интеграцией:
- Разработать REST API (GET, POST, PUT, DELETE) для сущности "Заказы";
- Настроить urlManager для ЧПУ-ссылок (например, /order/123/view);
- Сделать синхронизацию с внешним сервисом (список товаров https://dummyjson.com/products).
Сервис с DI и типизацией:
- Написать компонент для обработки данных от внешнего сервиса (например, парсинг JSON);
- Реализовать интерфейс для сервиса и внедрение через DI-контейнер;
- Покрыть сервис unit-тестами (PHPUnit).
Роутинг и контроллеры:
- Создать цепочку контроллеров (например, AdminController → ProductController) для маршрута /admin/product/123/edit;
- Настроить роутинг через urlManager и обработку параметров;
- Добавить фильтр поведения для проверки прав доступа.

------------
